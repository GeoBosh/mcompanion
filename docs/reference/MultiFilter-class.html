<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Class "MultiFilter" — MultiFilter-class • mcompanion</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Class "MultiFilter" — MultiFilter-class" />
<meta property="og:description" content="Objects and methods  for filters with more than one set of
  coefficients." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mcompanion</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/GeoBosh/mcompanion">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Class "MultiFilter"</h1>
    
    <div class="hidden name"><code>MultiFilter-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Objects and methods  for filters with more than one set of
  coefficients.</p>
    </div>



    <h2 class="hasAnchor" id="objects-from-the-class"><a class="anchor" href="#objects-from-the-class"></a>Objects from the Class</h2>

    <p>Objects can be created by calls of the form
  <code>new("MultiFilter", coef, mc, order, sign)</code>.</p>
<p>Objects from this class represent periodic filters. A
  \(d\)-periodic filter relates an input series
  \(\varepsilon_{t}\) to an output series
  \(y_t\) by the following formula:
  $$ y_t
    =   \sum_{i=1}^{p_t} \phi  _t(i)y          _{t-i}
      % + \sum_{i=1}^{q_t} \theta_t(i)\varepsilon_{t-i}
      + \varepsilon_t
      ,
    $$
  where the coefficients \(\phi_t(i)\) are \(d\)-periodic in
  \(t\), i.e. \(\phi_{t+d}(i)=\phi_t(i)\) and
  \(p_{t+d} = p_{t}\).</p>
<p>The periodicity means that it is sufficient to store the coefficients
  in a \(d \times p\) matrix, where
  \(p=\max(p_1,\dots,p_t)\).
  Slot <code>coef</code> contains such a matrix.</p>
<p>The filter may be specified either by its coefficients or by its
  multi-companion form.</p>
    <h2 class="hasAnchor" id="slots"><a class="anchor" href="#slots"></a>Slots</h2>

    <p></p><dl class='dl-horizontal'>
    <dt><code>mc</code>:</dt><dd><p>the multi-companion form of the filter, an object
      of class <code>"MultiCompanion"</code></p></dd>
    <dt><code>coef</code>:</dt><dd><p>the coefficients of the filter, an object of
      class <code>"matrix"</code>, whose \(s\)th row contains the
      coefficients for \(t=k \times d +s\).</p></dd>
    <dt><code>order</code>:</dt><dd><p>the periodic order of the filter,
      a numeric vector giving the orders of the individual seasons.</p></dd>
    <dt><code>sign</code>:</dt><dd><p>1 or -1. The default value, 1, corresponds to
      the formula given in section "Objects from the Class". It can also
      be -1, if the sum on the right-hand side of that formula is
      preceded by a minus (usual convention in signal processing).</p></dd>
  
</dl>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    <p></p><dl class='dl-horizontal'>
    <dt>[</dt><dd><p><code>signature(x = "MultiFilter", i = "ANY", j = "ANY",
	drop = "ANY")</code>:
      take subset of the coefficients of the filter in various forms.      To do: the function needs more work! Document the function and the
      additional arguments!</p></dd>
    <dt>initialize</dt><dd><p><code>signature(.Object = "MultiFilter")</code>:
      This function is called implicitly by <code>new</code>, see the
      signature for <code>new</code> above.
      One of <code>mc</code> and  <code>coef</code> must be supplied, the other
      arguments are optional.      If <code>mc</code> is missing it is computed from <code>coef</code>.
      In this case, component <code>mC.factorsmat</code> of slot <code>misc</code>
      of <code>mc</code> is set to the companion factorisation of <code>mc</code>
      (essentially the reversed rows of <code>coef</code>).      If <code>coef</code> is missing it is computed from <code>mc</code>, see
      <code><a href='mc_factors.html'>mc_factors</a></code>.</p></dd>
    <dt>mcStable</dt><dd><p><code>signature(x = "MultiFilter")</code>:
      Check if the filter is stable.</p></dd>

    See also the documentation for the following functions which are
    effectively methods for class "MuliFilter" but are not defined as
    formal methods:

    mf_period, mf_order, mf_poles,
    mf_VSform.
  
</dl>

    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><!-- % -->
    <!-- % bibentry: boshnakov2002mc -->
Boshnakov GN (2002).
``Multi-companion matrices.''
<em>Linear Algebra Appl.</em>, <b>354</b>, pp. 53--83.
ISSN 0024-3795, <a href='http://dx.doi.org/10.1016/S0024-3795(01)00475-X'>http://dx.doi.org/10.1016/S0024-3795(01)00475-X</a>.
<!-- % end:bibentry:  boshnakov2002mc --></p>
<p><!-- % bibentry: boshnakov2009gen -->
Boshnakov GN and Iqelan BM (2009).
``Generation of time series models with given spectral
properties.''
<em>J. Time Series Anal.</em>, <b>30</b>(3), pp. 349--368.
ISSN 0143-9782, <a href='http://dx.doi.org/10.1111/j.1467-9892.2009.00617.x'>http://dx.doi.org/10.1111/j.1467-9892.2009.00617.x</a>.
<!-- % end:bibentry:  boshnakov2009gen --></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><!-- % \code{\link{~~fun~~}} -->
  <code><a href='MultiCompanion-class.html'>MultiCompanion</a></code>,
  <code><a href='mf_VSform.html'>mf_period</a></code>, <code><a href='mf_VSform.html'>mf_order</a></code>,
  <code><a href='mf_VSform.html'>mf_poles</a></code>,
  <code><a href='mf_VSform.html'>mf_VSform</a></code>.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>showClass</span>(<span class='st'>"MultiFilter"</span>)</div><div class='output co'>#&gt; Class "MultiFilter" [package "mcompanion"]
#&gt; 
#&gt; Slots:
#&gt;                                                                   
#&gt; Name:              mc           coef          order           sign
#&gt; Class: MultiCompanion         matrix        numeric        numeric</div><div class='input'>
<span class='no'>m</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mCompanion.html'>mCompanion</a></span>(<span class='st'>"sim"</span>,<span class='kw'>dim</span><span class='kw'>=</span><span class='fl'>3</span>,<span class='kw'>mo</span><span class='kw'>=</span><span class='fl'>2</span>)   <span class='co'># simulate a 3x3 2-comp. matrix</span>
<span class='no'>flt</span> <span class='kw'>&lt;-</span> <span class='fu'>new</span>(<span class='st'>"MultiFilter"</span>, <span class='kw'>mc</span> <span class='kw'>=</span> <span class='no'>m</span> )
<span class='no'>flt</span>[]</div><div class='output co'>#&gt;            [,1]         [,2]       [,3]
#&gt; [1,] -0.7472262 -0.455082499 0.06883973
#&gt; [2,]  0.1615017 -0.004990528 0.42335765</div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_period</a></span>(<span class='no'>flt</span>)</div><div class='output co'>#&gt; [1] 2</div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_poles</a></span>(<span class='no'>flt</span>)</div><div class='output co'>#&gt; [1]  0.08075014+0.0000000i -0.33075072-0.5015153i -0.33075072+0.5015153i</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span>(<span class='fu'><a href='mf_VSform.html'>mf_poles</a></span>(<span class='no'>flt</span>))</div><div class='output co'>#&gt; [1] 0.08075014 0.60076089 0.60076089</div><div class='input'>
<span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"U"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;      [,1]       [,2]
#&gt; [1,]    1 -0.1615017
#&gt; [2,]    0  1.0000000
#&gt; 
#&gt; $Phi
#&gt;              [,1]       [,2]       [,3] [,4]
#&gt; [1,] -0.004990528  0.4233577 0.00000000    0
#&gt; [2,] -0.747226219 -0.4550825 0.06883973    0
#&gt; </div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"L"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;            [,1] [,2]
#&gt; [1,]  1.0000000    0
#&gt; [2,] -0.1615017    1
#&gt; 
#&gt; $Phi
#&gt;            [,1]         [,2] [,3]       [,4]
#&gt; [1,] -0.4550825 -0.747226219    0 0.06883973
#&gt; [2,]  0.4233577 -0.004990528    0 0.00000000
#&gt; </div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"I"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;      [,1] [,2]
#&gt; [1,]    1    0
#&gt; [2,]    0    1
#&gt; 
#&gt; $Phi
#&gt;            [,1]       [,2]       [,3] [,4]
#&gt; [1,] -0.1256688  0.3498611 0.01111773    0
#&gt; [2,] -0.7472262 -0.4550825 0.06883973    0
#&gt; 
#&gt; $Phi0inv
#&gt;      [,1]      [,2]
#&gt; [1,]    1 0.1615017
#&gt; [2,]    0 1.0000000
#&gt; </div><div class='input'>

<span class='co'># try arguments "coef" and "mc", for comparison</span>
<span class='no'>rfi</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='sim_pcfilter.html'>sim_pcfilter</a></span>(<span class='fl'>2</span>,<span class='fl'>3</span>) <span class='co'># period=2, order=c(3,3)</span>
<span class='co'># per. filter from a multi-companion matrix</span>
<span class='no'>flt1</span> <span class='kw'>&lt;-</span> <span class='fu'>new</span>(<span class='st'>"MultiFilter"</span>,<span class='kw'>mc</span><span class='kw'>=</span>  <span class='fu'><a href='mCompanion.html'>mCompanion</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/zapsmall.html'>zapsmall</a></span>(<span class='no'>rfi</span>$<span class='no'>mat</span>)) )
<span class='no'>flt1</span>[]</div><div class='output co'>#&gt;            [,1]       [,2]        [,3]
#&gt; [1,]  0.0908224 -0.0063724  0.17976570
#&gt; [2,] -0.9286249 -0.2129079 -0.03083217</div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_period</a></span>(<span class='no'>flt1</span>)</div><div class='output co'>#&gt; [1] 2</div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_poles</a></span>(<span class='no'>flt1</span>)</div><div class='output co'>#&gt; [1] -0.13468946+0.3791131i -0.13468946-0.3791131i -0.03424127+0.0000000i</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span>(<span class='fu'><a href='mf_VSform.html'>mf_poles</a></span>(<span class='no'>flt1</span>))</div><div class='output co'>#&gt; [1] 0.40232823 0.40232823 0.03424127</div><div class='input'>
<span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt1</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"U"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;      [,1]      [,2]
#&gt; [1,]    1 0.9286249
#&gt; [2,]    0 1.0000000
#&gt; 
#&gt; $Phi
#&gt;            [,1]        [,2]      [,3] [,4]
#&gt; [1,] -0.2129079 -0.03083217 0.0000000    0
#&gt; [2,]  0.0908224 -0.00637240 0.1797657    0
#&gt; </div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt1</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"L"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;           [,1] [,2]
#&gt; [1,] 1.0000000    0
#&gt; [2,] 0.9286249    1
#&gt; 
#&gt; $Phi
#&gt;             [,1]       [,2] [,3]      [,4]
#&gt; [1,] -0.00637240  0.0908224    0 0.1797657
#&gt; [2,] -0.03083217 -0.2129079    0 0.0000000
#&gt; </div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt1</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"I"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;      [,1] [,2]
#&gt; [1,]    1    0
#&gt; [2,]    0    1
#&gt; 
#&gt; $Phi
#&gt;            [,1]       [,2]       [,3] [,4]
#&gt; [1,] -0.2972478 -0.0249146 -0.1669349    0
#&gt; [2,]  0.0908224 -0.0063724  0.1797657    0
#&gt; 
#&gt; $Phi0inv
#&gt;      [,1]       [,2]
#&gt; [1,]    1 -0.9286249
#&gt; [2,]    0  1.0000000
#&gt; </div><div class='input'>
<span class='co'># per. filter from coefficients, should be the same (numerically)</span>
<span class='no'>flt2</span> <span class='kw'>&lt;-</span> <span class='fu'>new</span>(<span class='st'>"MultiFilter"</span>,<span class='kw'>coef</span><span class='kw'>=</span><span class='no'>rfi</span>$<span class='no'>pcfilter</span>)
<span class='no'>flt2</span>[]</div><div class='output co'>#&gt;             [,1]         [,2]        [,3]
#&gt; [1,]  0.09082236 -0.006372431  0.17976565
#&gt; [2,] -0.92862515 -0.212907882 -0.03083223</div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_period</a></span>(<span class='no'>flt2</span>)</div><div class='output co'>#&gt; [1] 2</div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_poles</a></span>(<span class='no'>flt2</span>)</div><div class='output co'>#&gt; [1] -0.13468946+0.3791131i -0.13468946-0.3791131i -0.03424133+0.0000000i</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span>(<span class='fu'><a href='mf_VSform.html'>mf_poles</a></span>(<span class='no'>flt2</span>))</div><div class='output co'>#&gt; [1] 0.40232824 0.40232824 0.03424133</div><div class='input'>
<span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt2</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"U"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;      [,1]      [,2]
#&gt; [1,]    1 0.9286252
#&gt; [2,]    0 1.0000000
#&gt; 
#&gt; $Phi
#&gt;             [,1]         [,2]      [,3] [,4]
#&gt; [1,] -0.21290788 -0.030832233 0.0000000    0
#&gt; [2,]  0.09082236 -0.006372431 0.1797657    0
#&gt; </div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt2</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"L"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;           [,1] [,2]
#&gt; [1,] 1.0000000    0
#&gt; [2,] 0.9286252    1
#&gt; 
#&gt; $Phi
#&gt;              [,1]        [,2] [,3]      [,4]
#&gt; [1,] -0.006372431  0.09082236    0 0.1797657
#&gt; [2,] -0.030832233 -0.21290788    0 0.0000000
#&gt; </div><div class='input'><span class='fu'><a href='mf_VSform.html'>mf_VSform</a></span>(<span class='no'>flt2</span>,<span class='kw'>form</span><span class='kw'>=</span><span class='st'>"I"</span>)</div><div class='output co'>#&gt; $Phi0
#&gt;      [,1] [,2]
#&gt; [1,]    1    0
#&gt; [2,]    0    1
#&gt; 
#&gt; $Phi
#&gt;             [,1]         [,2]       [,3] [,4]
#&gt; [1,] -0.29724781 -0.024914633 -0.1669349    0
#&gt; [2,]  0.09082236 -0.006372431  0.1797657    0
#&gt; 
#&gt; $Phi0inv
#&gt;      [,1]       [,2]
#&gt; [1,]    1 -0.9286252
#&gt; [2,]    0  1.0000000
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#objects-from-the-class">Objects from the Class</a></li>
      <li><a href="#slots">Slots</a></li>
      <li><a href="#methods">Methods</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Georgi N. Boshnakov</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Georgi N. Boshnakov.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


